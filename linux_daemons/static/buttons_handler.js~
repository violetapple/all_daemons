$(document).ready(function(){
                var buttons = document.getElementsByName("action"); 
                var checked = document.getElementById("check").checked
                for (var i = 0; i < buttons.length; i++) 
                    document.getElementById(buttons[i].id).disabled = !checked;
            });
            
            function saveCheckBox(checked) {
                var buttons = document.getElementsByName("action");       
                for (var i = 0; i < buttons.length; i++) 
                    document.getElementById(buttons[i].id).disabled = !checked;
                $.ajax({
                    url : '/save_checkbox',
                    type : 'POST',
                    dataType : 'JSON',
                    contentType : 'application/multipart',
                    data  : JSON.stringify({"checked" : checked}),
                    success : function(response, smth){ 
                        data = JSON.parse(response)
                        console.log("Success. Checkbox value updated")
                    },
                    error : function(result, status, error){
                        console.log(result)
                        console.log(status)
                        console.log(error)
                    }
                 });
                
            }
            
            function updateButtonState(id, name) { 
                $(name).('state').text("Waiting for status...")
                var actions = {"start" : false, "restart" : false, "stop" : false}
                if(id == "start")
                    actions["start"] = true
                else if (id == "stop")
                    actions["stop"] = true
                else if (id == "restart")
                    actions["restart"] = true
                actions["name"] = name
                $.ajax({
                    url : '/change_daemon',
                    type : 'POST',
                    dataType : 'JSON',
                    contentType : 'application/multipart',
                    data  : JSON.stringify(actions),
                    success : function(response, smth){ 
                        console.log("Success. JSON has been received.")
                        data = JSON.parse(response)
                        $(name).('state').text(data["state"])
                    },
                    error : function(result, status, error){
                        $(name).('state').text("Sorry, try again later")
                        console.log(result)
                        console.log(status)
                        console.log(error)
                    }
                 });
            }
